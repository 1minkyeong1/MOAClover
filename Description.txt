데이터베이스


사용자(User) 테이블

user_id (고유 식별자, PK)
username (아이디)
password (암호화된 비밀번호)
email (이메일 주소)
created_at (계정 생성일)
updated_at (정보 수정일)
is_active (계정 활성 여부, 탈퇴 또는 비활성 처리 시 false로 변경)



상품(Product) 테이블

product_id	고유 식별자 (PK)
name	상품명
description	상품 설명
price	가격
category_id	카테고리 ID (FK)
created_at	등록일
updated_at	수정일
is_visible	노출 여부 (true/false)
deleted_at	삭제일 (NULL 또는 삭제 시 날짜)



카테고리(Category) 테이블

category_id	고유 식별자 (PK)
name	카테고리명
description	카테고리 설명
parent_category_id	상위 카테고리 ID (없으면 NULL)
created_at	생성일
updated_at	수정일
is_active	활성 여부 (true/false)
deleted_at	삭제일 (NULL 또는 삭제 시 날짜)



미디어(Media) 테이블

media_id	고유 식별자 (PK)
product_id	상품 ID (FK)
media_type	미디어 종류 (thumbnail, image, video 등)
file_url	파일 경로 또는 URL
sort_order	노출 순서
created_at	등록일
is_active	활성 여부 (true/false)
deleted_at	삭제일 (NULL 또는 삭제 시 날짜)


Q&A  (ProductQnA) 테이블

QnAId
ProductId
UserId
Question
Answer
IsSecret
CreatedAt
AnsweredAt



1. 마이그레이션할 때  NuGet 설치

Microsoft.EntityFrameworkCore
Microsoft.EntityFrameworkCore.SqlServer
Microsoft.EntityFrameworkCore.Tools



2. Appsettings.json에서 추가하기  < SQL Server 인증(SQL Server 로그인 아이디와 패스워드) >

 "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=MOACloverKmn;User Id=sa;Password=pointnix;"
  },


 3. 각각 테이블의 Model 등록


 4.  마이그레이션 실행 (콘솔터미널)

 마이그레이션 생성
 dotnet ef migrations add InitialCreate     

 데이터베이스 적용
 dotnet ef database update


 ****  dotnet ef 가 실행 안되면?   ***
 설치해야함
 dotnet tool install --global dotnet-ef

 설치한 후에 다시 마이그레이션 생성 실행.